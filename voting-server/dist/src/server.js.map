{"version":3,"sources":["../../src/server.js"],"names":["startServer","store","io","attach","on","socket","emit","getState","toJS","dispatch","bind","subscribe"],"mappings":";;;;;kBAKwBA,W;;AAFxB;;;;;;AAEe,SAASA,WAAT,CAAqBC,KAArB,EAA2B;AACtC,QAAMC,KAAK,uBAAaC,MAAb,CAAoB,IAApB,CAAX;AACAD,OAAGE,EAAH,CAAM,YAAN,EAAmB,UAACC,MAAD,EAAU;AACzBA,eAAOC,IAAP,CAAY,OAAZ,EAAoBL,MAAMM,QAAN,GAAiBC,IAAjB,EAApB;AACAH,eAAOD,EAAP,CAAU,QAAV,EAAmBH,MAAMQ,QAAN,CAAeC,IAAf,CAAoBT,KAApB,CAAnB;AACH,KAHD;;AAKAA,UAAMU,SAAN,CAAgB,YAAI;AAChBT,WAAGI,IAAH,CAAQ,OAAR,EAAgBL,MAAMM,QAAN,GAAiBC,IAAjB,EAAhB;AACH,KAFD;AAIH,C,CAhBD","file":"server.js","sourcesContent":["/**\r\n * Created by Owner on 1/11/2017.\r\n */\r\nimport Server from \"socket.io\";\r\n\r\nexport default function startServer(store){\r\n    const io = new Server().attach(8090);\r\n    io.on(\"connection\",(socket)=>{\r\n        socket.emit(\"state\",store.getState().toJS());\r\n        socket.on(\"action\",store.dispatch.bind(store));\r\n    });\r\n\r\n    store.subscribe(()=>{\r\n        io.emit(\"state\",store.getState().toJS());\r\n    });\r\n\r\n}"]}